{"ast":null,"code":"import _defineProperty from\"/Users/mayankchoudhary/Desktop/MERN_SDE/Gmail-Web-Application/Server/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/mayankchoudhary/Desktop/MERN_SDE/Gmail-Web-Application/Server/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/mayankchoudhary/Desktop/MERN_SDE/Gmail-Web-Application/Server/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// Whenever we send mail it gets send on smtp simple mail transfer protocol\n//we will use it for sending the mails\nimport{Close,DeleteOutline}from'@mui/icons-material';import{Dialog,Box,Typography,styled,InputBase,TextField,Button}from'@mui/material';import React,{useState}from'react';import useApi from'../hooks/useApi';import{API_URLS}from'../services/api.urls';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var dialogStyle={height:'90%',width:'80%',maxWidth:'100%',maxHeight:'100%',boxShadow:'none',borderRadius:'10px 10px 0 0'};var Header=styled(Box)({display:'flex',justifyContent:'space-between',padding:'10px 15px',background:'#f2f6fc','& > p':{fontSize:14,fontWeight:500}});var RecipientsWrapper=styled(Box)({display:'flex',flexDirection:'column',padding:'0 15px','&>div':{fontSize:14,borderBottom:'1px solid #f5f5f5',marginTop:10}});var Footer=styled(Box)({display:'flex',justifyContent:'space-between',padding:'10px 15px',alignItems:'center'});var SendButton=styled(Button)({background:'#0b57d0',color:'#ffffff',fontWeight:500,textTransform:'none',borderRadius:18,width:100});var ComposeMail=function ComposeMail(_ref){var openDialog=_ref.openDialog,setOpenDialog=_ref.setOpenDialog;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var sentEmailService=useApi(API_URLS.saveSentEmail);var saveDraftService=useApi(API_URLS.saveDraftEmails);var config={Host:'smtp.elasticemail.com',Username:process.env.REACT_APP_USERNAME,Password:process.env.REACT_APP_PASSWORD,Port:2525};var closeComposeMail=function closeComposeMail(event){event.preventDefault();var payload={to:data.to,from:'mayankchoudhary6055@gmail.com',subject:data.subject,body:data.body,date:new Date(),image:'',name:'Mayank choudhary',starred:false,type:'drafts'};saveDraftService.call(payload);if(!saveDraftService.error){setOpenDialog(false);setData({});}else{}setOpenDialog(false);};var sendMail=function sendMail(event){event.preventDefault();if(window.Email){window.Email.send(_objectSpread(_objectSpread({},config),{},{To:data.to,From:'mayankchoudhary6055@gmail.com',Subject:data.subject,Body:data.body})).then(function(message){return alert(message);});}var payload={to:data.to,from:'mayankchoudhary6055@gmail.com',subject:data.subject,body:data.body,date:new Date(),image:'',name:'Mayank choudhary',starred:false,type:'sent'};sentEmailService.call(payload);if(!sentEmailService.error){setOpenDialog(false);setData({});}else{}setOpenDialog(false);};var onValueChange=function onValueChange(event){setData(_objectSpread(_objectSpread({},data),{},_defineProperty({},event.target.name,event.target.value)));};return/*#__PURE__*/_jsxs(Dialog,{open:openDialog,PaperProps:{sx:dialogStyle},children:[/*#__PURE__*/_jsxs(Header,{children:[/*#__PURE__*/_jsx(Typography,{children:\"New Message\"}),/*#__PURE__*/_jsx(Close,{fontSize:\"small\",onClick:function onClick(event){return closeComposeMail(event);}})]}),/*#__PURE__*/_jsxs(RecipientsWrapper,{children:[/*#__PURE__*/_jsx(InputBase,{placeholder:\"Recipients\",onChange:function onChange(event){return onValueChange(event);},name:\"to\"}),/*#__PURE__*/_jsx(InputBase,{name:\"subject\",placeholder:\"Subject\",onChange:function onChange(event){return onValueChange(event);}})]}),/*#__PURE__*/_jsx(TextField,{name:\"body\",onChange:function onChange(event){return onValueChange(event);},multiline:true,rows:20,sx:{'& .MuiOutlinedInput-notchedOutline':{border:'none'}}}),/*#__PURE__*/_jsxs(Footer,{children:[/*#__PURE__*/_jsx(SendButton,{onClick:function onClick(event){return sendMail(event);},children:\"Send\"}),/*#__PURE__*/_jsx(DeleteOutline,{onClick:function onClick(){return setOpenDialog(false);}})]})]});};export default ComposeMail;","map":{"version":3,"names":["Close","DeleteOutline","Dialog","Box","Typography","styled","InputBase","TextField","Button","React","useState","useApi","API_URLS","jsx","_jsx","jsxs","_jsxs","dialogStyle","height","width","maxWidth","maxHeight","boxShadow","borderRadius","Header","display","justifyContent","padding","background","fontSize","fontWeight","RecipientsWrapper","flexDirection","borderBottom","marginTop","Footer","alignItems","SendButton","color","textTransform","ComposeMail","_ref","openDialog","setOpenDialog","_useState","_useState2","_slicedToArray","data","setData","sentEmailService","saveSentEmail","saveDraftService","saveDraftEmails","config","Host","Username","process","env","REACT_APP_USERNAME","Password","REACT_APP_PASSWORD","Port","closeComposeMail","event","preventDefault","payload","to","from","subject","body","date","Date","image","name","starred","type","call","error","sendMail","window","Email","send","_objectSpread","To","From","Subject","Body","then","message","alert","onValueChange","_defineProperty","target","value","open","PaperProps","sx","children","onClick","placeholder","onChange","multiline","rows","border"],"sources":["/Users/mayankchoudhary/Desktop/MERN_SDE/Gmail-Web-Application/Server/client/src/components/ComposeMail.jsx"],"sourcesContent":["// Whenever we send mail it gets send on smtp simple mail transfer protocol\n//we will use it for sending the mails\n\nimport { Close, DeleteOutline } from '@mui/icons-material';\nimport {\n  Dialog,\n  Box,\n  Typography,\n  styled,\n  InputBase,\n  TextField,\n  Button,\n} from '@mui/material';\nimport React, { useState } from 'react';\nimport useApi from '../hooks/useApi';\n\nimport { API_URLS } from '../services/api.urls';\nconst dialogStyle = {\n  height: '90%',\n  width: '80%',\n  maxWidth: '100%',\n  maxHeight: '100%',\n  boxShadow: 'none',\n  borderRadius: '10px 10px 0 0',\n};\n\nconst Header = styled(Box)({\n  display: 'flex',\n  justifyContent: 'space-between',\n  padding: '10px 15px',\n  background: '#f2f6fc',\n  '& > p': {\n    fontSize: 14,\n    fontWeight: 500,\n  },\n});\n\nconst RecipientsWrapper = styled(Box)({\n  display: 'flex',\n  flexDirection: 'column',\n  padding: '0 15px',\n  '&>div': {\n    fontSize: 14,\n    borderBottom: '1px solid #f5f5f5',\n    marginTop: 10,\n  },\n});\n\nconst Footer = styled(Box)({\n  display: 'flex',\n  justifyContent: 'space-between',\n  padding: '10px 15px',\n  alignItems: 'center',\n});\n\nconst SendButton = styled(Button)({\n  background: '#0b57d0',\n  color: '#ffffff',\n  fontWeight: 500,\n  textTransform: 'none',\n  borderRadius: 18,\n  width: 100,\n});\nconst ComposeMail = ({ openDialog, setOpenDialog }) => {\n  const [data, setData] = useState({});\n  const sentEmailService = useApi(API_URLS.saveSentEmail);\n  const saveDraftService = useApi(API_URLS.saveDraftEmails);\n\n  const config = {\n    Host: 'smtp.elasticemail.com',\n    Username: process.env.REACT_APP_USERNAME,\n    Password: process.env.REACT_APP_PASSWORD,\n    Port: 2525,\n  };\n  const closeComposeMail = (event) => {\n    event.preventDefault();\n    const payload = {\n      to: data.to,\n      from: 'mayankchoudhary6055@gmail.com',\n      subject: data.subject,\n      body: data.body,\n      date: new Date(),\n      image: '',\n      name: 'Mayank choudhary',\n      starred: false,\n      type: 'drafts',\n    };\n    saveDraftService.call(payload);\n\n    if (!saveDraftService.error) {\n      setOpenDialog(false);\n      setData({});\n    } else {\n    }\n    setOpenDialog(false);\n  };\n  const sendMail = (event) => {\n    event.preventDefault();\n    if (window.Email) {\n      window.Email.send({\n        ...config,\n        To: data.to,\n        From: 'mayankchoudhary6055@gmail.com',\n        Subject: data.subject,\n        Body: data.body,\n      }).then((message) => alert(message));\n    }\n    const payload = {\n      to: data.to,\n      from: 'mayankchoudhary6055@gmail.com',\n      subject: data.subject,\n      body: data.body,\n      date: new Date(),\n      image: '',\n      name: 'Mayank choudhary',\n      starred: false,\n      type: 'sent',\n    };\n    sentEmailService.call(payload);\n\n    if (!sentEmailService.error) {\n      setOpenDialog(false);\n      setData({});\n    } else {\n    }\n    setOpenDialog(false);\n  };\n\n  const onValueChange = (event) => {\n    setData({ ...data, [event.target.name]: event.target.value });\n  };\n\n  return (\n    <Dialog open={openDialog} PaperProps={{ sx: dialogStyle }}>\n      <Header>\n        <Typography>New Message</Typography>\n        <Close fontSize=\"small\" onClick={(event) => closeComposeMail(event)} />\n      </Header>\n      <RecipientsWrapper>\n        <InputBase\n          placeholder=\"Recipients\"\n          onChange={(event) => onValueChange(event)}\n          name=\"to\"\n        />\n        <InputBase\n          name=\"subject\"\n          placeholder=\"Subject\"\n          onChange={(event) => onValueChange(event)}\n        />\n      </RecipientsWrapper>\n\n      <TextField\n        name=\"body\"\n        onChange={(event) => onValueChange(event)}\n        multiline\n        rows={20}\n        sx={{\n          '& .MuiOutlinedInput-notchedOutline': {\n            border: 'none',\n          },\n        }}\n      />\n\n      <Footer>\n        <SendButton onClick={(event) => sendMail(event)}>Send</SendButton>\n        <DeleteOutline onClick={() => setOpenDialog(false)} />\n      </Footer>\n    </Dialog>\n  );\n};\n\nexport default ComposeMail;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}