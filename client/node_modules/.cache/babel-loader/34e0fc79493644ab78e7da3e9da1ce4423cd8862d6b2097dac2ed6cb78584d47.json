{"ast":null,"code":"import _slicedToArray from\"/Users/mayankchoudhary/Desktop/MERN_SDE/Gmail-Web-Application/Server/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useOutletContext,useParams}from'react-router-dom';import{API_URLS}from'../services/api.urls';import useApi from'../hooks/useApi';import{Checkbox,Box,List}from'@mui/material';import{DeleteOutline}from'@mui/icons-material';import Email from'./Email';import NoMails from'./common/NoMails';import{EMPTY_TABS}from'../constants/constants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Emails=function Emails(){var _getEmailService$resp2,_getEmailService$resp3;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),refreshScreen=_useState2[0],setRefreshScreen=_useState2[1];var _useOutletContext=useOutletContext(),openDrawer=_useOutletContext.openDrawer;var _useParams=useParams(),type=_useParams.type;var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),selectedEmails=_useState4[0],setSelectedEmails=_useState4[1];var getEmailService=useApi(API_URLS.getEmailFromType);var moveEmailsToBinService=useApi(API_URLS.moveEmailsToBin);var deleteEmailService=useApi(API_URLS.deleteEmail);useEffect(function(){getEmailService.call({},type);},[type,refreshScreen]);var selectAllEmails=function selectAllEmails(event){if(event.target.checked){var _getEmailService$resp;var emails=getEmailService===null||getEmailService===void 0?void 0:(_getEmailService$resp=getEmailService.response)===null||_getEmailService$resp===void 0?void 0:_getEmailService$resp.map(function(email){return email._id;});setSelectedEmails(emails);}else{setSelectedEmails([]);}};var deleteSelectedEmails=function deleteSelectedEmails(event){if(type==='bin'){deleteEmailService.call(selectedEmails);}else{moveEmailsToBinService.call(selectedEmails);}setRefreshScreen(function(prevState){return!prevState;});};return/*#__PURE__*/_jsxs(Box,{style:openDrawer?{marginLeft:250,width:'calc(100%-250px)'}:{width:'100%'},children:[/*#__PURE__*/_jsxs(Box,{style:{padding:'20px 10px 0 10px',display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(Checkbox,{size:\"small\",onChange:function onChange(event){return selectAllEmails(event);}}),/*#__PURE__*/_jsx(DeleteOutline,{onClick:function onClick(event){return deleteSelectedEmails(event);}})]}),/*#__PURE__*/_jsx(List,{children:getEmailService===null||getEmailService===void 0?void 0:(_getEmailService$resp2=getEmailService.response)===null||_getEmailService$resp2===void 0?void 0:_getEmailService$resp2.map(function(email,index){return/*#__PURE__*/_jsx(Email,{email:email,selectedEmails:selectedEmails,setRefreshScreen:setRefreshScreen,setSelectedEmails:setSelectedEmails},index);})}),(getEmailService===null||getEmailService===void 0?void 0:(_getEmailService$resp3=getEmailService.response)===null||_getEmailService$resp3===void 0?void 0:_getEmailService$resp3.length)===0&&/*#__PURE__*/_jsx(NoMails,{message:EMPTY_TABS[type]})]});};export default Emails;","map":{"version":3,"names":["React","useEffect","useState","useOutletContext","useParams","API_URLS","useApi","Checkbox","Box","List","DeleteOutline","Email","NoMails","EMPTY_TABS","jsx","_jsx","jsxs","_jsxs","Emails","_getEmailService$resp2","_getEmailService$resp3","_useState","_useState2","_slicedToArray","refreshScreen","setRefreshScreen","_useOutletContext","openDrawer","_useParams","type","_useState3","_useState4","selectedEmails","setSelectedEmails","getEmailService","getEmailFromType","moveEmailsToBinService","moveEmailsToBin","deleteEmailService","deleteEmail","call","selectAllEmails","event","target","checked","_getEmailService$resp","emails","response","map","email","_id","deleteSelectedEmails","prevState","style","marginLeft","width","children","padding","display","alignItems","size","onChange","onClick","index","length","message"],"sources":["/Users/mayankchoudhary/Desktop/MERN_SDE/Gmail-Web-Application/Server/client/src/components/Emails.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useOutletContext, useParams } from 'react-router-dom';\nimport { API_URLS } from '../services/api.urls';\nimport useApi from '../hooks/useApi';\nimport { Checkbox, Box, List } from '@mui/material';\nimport { DeleteOutline } from '@mui/icons-material';\nimport Email from './Email';\nimport NoMails from './common/NoMails';\nimport { EMPTY_TABS } from '../constants/constants';\nconst Emails = () => {\n  const [refreshScreen, setRefreshScreen] = useState(false);\n  const { openDrawer } = useOutletContext();\n  const { type } = useParams();\n  const [selectedEmails, setSelectedEmails] = useState([]);\n\n  const getEmailService = useApi(API_URLS.getEmailFromType);\n  const moveEmailsToBinService = useApi(API_URLS.moveEmailsToBin);\n  const deleteEmailService = useApi(API_URLS.deleteEmail);\n\n  useEffect(() => {\n    getEmailService.call({}, type);\n  }, [type, refreshScreen]);\n\n  const selectAllEmails = (event) => {\n    if (event.target.checked) {\n      const emails = getEmailService?.response?.map((email) => email._id);\n      setSelectedEmails(emails);\n    } else {\n      setSelectedEmails([]);\n    }\n  };\n\n  const deleteSelectedEmails = (event) => {\n    if (type === 'bin') {\n      deleteEmailService.call(selectedEmails);\n    } else {\n      moveEmailsToBinService.call(selectedEmails);\n    }\n    setRefreshScreen((prevState) => !prevState);\n  };\n\n  return (\n    <Box\n      style={\n        openDrawer\n          ? { marginLeft: 250, width: 'calc(100%-250px)' }\n          : { width: '100%' }\n      }\n    >\n      <Box\n        style={{\n          padding: '20px 10px 0 10px',\n          display: 'flex',\n          alignItems: 'center',\n        }}\n      >\n        <Checkbox size=\"small\" onChange={(event) => selectAllEmails(event)} />\n        <DeleteOutline onClick={(event) => deleteSelectedEmails(event)} />\n      </Box>\n      <List>\n        {getEmailService?.response?.map((email, index) => {\n          return (\n            <Email\n              key={index}\n              email={email}\n              selectedEmails={selectedEmails}\n              setRefreshScreen={setRefreshScreen}\n              setSelectedEmails={setSelectedEmails}\n            />\n          );\n        })}\n      </List>\n      {getEmailService?.response?.length === 0 && (\n        <NoMails message={EMPTY_TABS[type]} />\n      )}\n    </Box>\n  );\n};\n\nexport default Emails;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}